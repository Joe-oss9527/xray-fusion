# Phase 1 Implementation Plan: Basic UX Improvements

> **ç›®æ ‡**: æ”¹å–„é¦–æ¬¡å®‰è£…ä½“éªŒï¼Œæå‡ UX æˆç†Ÿåº¦ä» 4.75 â†’ 6.5
> **é¢„è®¡æ—¶é—´**: 15-20 å°æ—¶
> **ä¼˜å…ˆçº§**: ğŸ”¥ HIGH

---

## å®æ–½ç­–ç•¥

**åŸåˆ™**:
- âœ… å¢é‡å¼æ”¹è¿›ï¼šæ¯ä¸ªä»»åŠ¡ç‹¬ç«‹å®Œæˆï¼Œå¯å•ç‹¬æµ‹è¯•
- âœ… å‘åå…¼å®¹ï¼šä¸ç ´åç°æœ‰åŠŸèƒ½
- âœ… æµ‹è¯•é©±åŠ¨ï¼šæ¯ä¸ªåŠŸèƒ½éƒ½æœ‰å¯¹åº”æµ‹è¯•
- âœ… æ–‡æ¡£åŒæ­¥ï¼šä»£ç å’Œæ–‡æ¡£åŒæ­¥æ›´æ–°

**é¡ºåº**:
1. ä»ç®€å•åˆ°å¤æ‚ï¼ˆå»ºç«‹ä¿¡å¿ƒï¼‰
2. ä»ç‹¬ç«‹åˆ°é›†æˆï¼ˆå‡å°‘ä¾èµ–ï¼‰
3. ä»æ ¸å¿ƒåˆ°å¤–å›´ï¼ˆä¼˜å…ˆé«˜å½±å“ï¼‰

---

## ä»»åŠ¡åˆ†è§£

### Task 1: UUID ç”Ÿæˆåˆ‡æ¢åˆ° xray uuid ğŸ”§

**ä¼˜å…ˆçº§**: P1 (æœ€é«˜)
**éš¾åº¦**: â­ (ç®€å•)
**æ—¶é—´**: 1-2h
**ä¾èµ–**: æ— 

#### å­ä»»åŠ¡

1.1. **è°ƒç ” `xray uuid` å·¥å…·**
   - [ ] é˜…è¯» Xray å®˜æ–¹æ–‡æ¡£
   - [ ] æµ‹è¯• `xray uuid` å‘½ä»¤è¾“å‡ºæ ¼å¼
   - [ ] æµ‹è¯• `xray uuid -i "string"` è‡ªå®šä¹‰æ˜ å°„
   - [ ] éªŒè¯ä¸å½“å‰ UUID æ ¼å¼å…¼å®¹æ€§

1.2. **å®ç°åˆ‡æ¢é€»è¾‘**
   - [ ] ä¿®æ”¹ `services/xray/install.sh` UUID ç”Ÿæˆå‡½æ•°
   - [ ] æ·»åŠ  fallback åˆ° `uuidgen` (å…¼å®¹æ€§)
   - [ ] æ”¯æŒ `--uuid` å‚æ•°å¯¼å…¥å·²æœ‰ UUID
   - [ ] æ”¯æŒ `--uuid-from-string` å‚æ•°è‡ªå®šä¹‰æ˜ å°„

1.3. **ç¼–å†™æµ‹è¯•**
   - [ ] å•å…ƒæµ‹è¯•ï¼š`tests/unit/test_xray_uuid.bats`
   - [ ] æµ‹è¯• UUID æ ¼å¼éªŒè¯
   - [ ] æµ‹è¯•è‡ªå®šä¹‰å­—ç¬¦ä¸²æ˜ å°„
   - [ ] æµ‹è¯• fallback é€»è¾‘

1.4. **æ–‡æ¡£æ›´æ–°**
   - [ ] æ›´æ–° `README.md` å®‰è£…ç¤ºä¾‹
   - [ ] æ›´æ–° `AGENTS.md` UUID ç”Ÿæˆè§„èŒƒ
   - [ ] æ·»åŠ  `--uuid-from-string` ä½¿ç”¨ç¤ºä¾‹

1.5. **æäº¤**
   - [ ] Commit: "feat: switch UUID generation to xray uuid with custom mapping support"

**éªŒæ”¶æ ‡å‡†**:
- âœ… `xrf install` ä½¿ç”¨ `xray uuid` ç”Ÿæˆ UUID
- âœ… æ”¯æŒ `--uuid-from-string "alice"` è‡ªå®šä¹‰æ˜ å°„
- âœ… Xray æœªå®‰è£…æ—¶ fallback åˆ° `uuidgen`
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

### Task 2: å‚æ•°éªŒè¯å¢å¼º - å‹å¥½é”™è¯¯æ¶ˆæ¯ ğŸ“

**ä¼˜å…ˆçº§**: P1 (æœ€é«˜)
**éš¾åº¦**: â­â­ (ä¸­ç­‰)
**æ—¶é—´**: 3-4h
**ä¾èµ–**: æ— 

#### å­ä»»åŠ¡

2.1. **è®¾è®¡é”™è¯¯ä»£ç ç³»ç»Ÿ**
   - [ ] å®šä¹‰é”™è¯¯ä»£ç æ ¼å¼: `XRF-CATEGORY-NUMBER`
   - [ ] åˆ›å»º `lib/error_codes.sh` é”™è¯¯ä»£ç å®šä¹‰
   - [ ] è®¾è®¡é”™è¯¯æ¶ˆæ¯æ¨¡æ¿

2.2. **å®ç°å¢å¼ºé”™è¯¯å‡½æ•°**
   - [ ] åˆ›å»º `lib/errors.sh::error_with_code()` å‡½æ•°
   - [ ] æ”¯æŒé”™è¯¯ä»£ç ã€åŸå› ã€å»ºè®®ã€æ–‡æ¡£é“¾æ¥
   - [ ] æ”¯æŒ JSON æ ¼å¼è¾“å‡ºï¼ˆ`XRF_JSON=true`ï¼‰
   - [ ] é›†æˆåˆ°ç°æœ‰ `core::log` æ¡†æ¶

2.3. **é‡æ„ç°æœ‰éªŒè¯é”™è¯¯**
   - [ ] `lib/validators.sh::validators::domain()`
     - é”™è¯¯ç : `XRF-CONFIG-001` (Invalid domain)
     - æ·»åŠ å…·ä½“åŸå› ï¼ˆç§æœ‰ IPã€ä¿ç•™åŸŸåç­‰ï¼‰
     - æ·»åŠ ä¿®å¤å»ºè®®
   - [ ] `lib/args.sh::args::validate_topology()`
     - é”™è¯¯ç : `XRF-CONFIG-002` (Invalid topology)
     - æ·»åŠ å¯ç”¨é€‰é¡¹åˆ—è¡¨
   - [ ] `lib/args.sh::args::validate_config()`
     - é”™è¯¯ç : `XRF-CONFIG-003` (Missing required parameter)
     - æ·»åŠ å‚æ•°è¯´æ˜å’Œç¤ºä¾‹

2.4. **ç¼–å†™æµ‹è¯•**
   - [ ] å•å…ƒæµ‹è¯•ï¼š`tests/unit/test_error_codes.bats`
   - [ ] æµ‹è¯•é”™è¯¯ä»£ç ç”Ÿæˆ
   - [ ] æµ‹è¯•é”™è¯¯æ¶ˆæ¯æ ¼å¼ï¼ˆæ–‡æœ¬/JSONï¼‰
   - [ ] æµ‹è¯•é›†æˆåˆ° validators

2.5. **æ–‡æ¡£æ›´æ–°**
   - [ ] åˆ›å»º `docs/ERROR_CODES.md` é”™è¯¯ä»£ç å‚è€ƒ
   - [ ] æ›´æ–° `TROUBLESHOOTING.md` æ·»åŠ é”™è¯¯ä»£ç ç´¢å¼•
   - [ ] æ›´æ–° `AGENTS.md` é”™è¯¯å¤„ç†è§„èŒƒ

2.6. **æäº¤**
   - [ ] Commit: "feat: add structured error codes with recovery guidance"

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰éªŒè¯é”™è¯¯åŒ…å«é”™è¯¯ä»£ç 
- âœ… é”™è¯¯æ¶ˆæ¯åŒ…å«åŸå› å’Œä¿®å¤å»ºè®®
- âœ… æ”¯æŒ JSON æ ¼å¼è¾“å‡º
- âœ… é”™è¯¯ä»£ç æ–‡æ¡£å®Œæ•´

**ç¤ºä¾‹è¾“å‡º**:
```bash
[ERROR] XRF-CONFIG-001: Invalid domain

Domain: 192.168.1.1
Reason: Private IP address (RFC 1918)

Resolution:
  Use a public domain name for vision-reality topology, or
  Switch to reality-only topology which supports IP addresses.

Examples:
  xrf install --topology vision-reality --domain vpn.example.com
  xrf install --topology reality-only  # No domain needed

Learn more: https://github.com/Joe-oss9527/xray-fusion#error-codes
```

---

### Task 3: å®‰è£…å‰é…ç½®é¢„è§ˆ ğŸ”

**ä¼˜å…ˆçº§**: P1 (æœ€é«˜)
**éš¾åº¦**: â­â­ (ä¸­ç­‰)
**æ—¶é—´**: 2-3h
**ä¾èµ–**: Task 2 (ä½¿ç”¨é”™è¯¯ä»£ç )

#### å­ä»»åŠ¡

3.1. **è®¾è®¡é¢„è§ˆæ ¼å¼**
   - [ ] è®¾è®¡ ASCII è¡¨æ ¼å¸ƒå±€
   - [ ] ç¡®å®šæ˜¾ç¤ºå­—æ®µï¼ˆtopology, domain, ports, securityï¼‰
   - [ ] è®¾è®¡ç¡®è®¤æç¤º

3.2. **å®ç°é¢„è§ˆå‡½æ•°**
   - [ ] åˆ›å»º `modules/ui.sh::ui::show_install_summary()`
   - [ ] ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®
   - [ ] æ ¼å¼åŒ–è¾“å‡ºï¼ˆæ”¯æŒé¢œè‰²ï¼‰
   - [ ] æ·»åŠ ç”¨æˆ·ç¡®è®¤é€»è¾‘

3.3. **é›†æˆåˆ°å®‰è£…æµç¨‹**
   - [ ] ä¿®æ”¹ `commands/install.sh`
   - [ ] åœ¨å‚æ•°éªŒè¯åã€å®é™…å®‰è£…å‰è°ƒç”¨
   - [ ] æ”¯æŒ `--yes` è·³è¿‡ç¡®è®¤ï¼ˆCI/CDï¼‰
   - [ ] æ”¯æŒ `--dry-run` ä»…æ˜¾ç¤ºé¢„è§ˆ

3.4. **ç¼–å†™æµ‹è¯•**
   - [ ] å•å…ƒæµ‹è¯•ï¼š`tests/unit/test_ui.bats`
   - [ ] æµ‹è¯•é¢„è§ˆè¾“å‡ºæ ¼å¼
   - [ ] æµ‹è¯• `--yes` å’Œ `--dry-run` å‚æ•°
   - [ ] é›†æˆæµ‹è¯•ï¼šéªŒè¯å®‰è£…æµç¨‹

3.5. **æ–‡æ¡£æ›´æ–°**
   - [ ] æ›´æ–° `README.md` æ·»åŠ é¢„è§ˆæˆªå›¾
   - [ ] æ›´æ–° `AGENTS.md` UI æ¨¡å—è§„èŒƒ
   - [ ] æ·»åŠ  `--dry-run` ä½¿ç”¨ç¤ºä¾‹

3.6. **æäº¤**
   - [ ] Commit: "feat: add installation preview with user confirmation"

**éªŒæ”¶æ ‡å‡†**:
- âœ… å®‰è£…å‰æ˜¾ç¤ºé…ç½®æ‘˜è¦
- âœ… ç­‰å¾…ç”¨æˆ·ç¡®è®¤ï¼ˆé»˜è®¤ï¼‰
- âœ… æ”¯æŒ `--yes` è‡ªåŠ¨ç¡®è®¤
- âœ… æ”¯æŒ `--dry-run` ä»…é¢„è§ˆ

**ç¤ºä¾‹è¾“å‡º**:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Installation Summary
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Topology:     reality-only
Xray Version: latest (will fetch: 1.8.23)

Inbound Ports:
  â€¢ Reality:  443

Security:
  â€¢ UUID:      6ba85179-d64e-4cb8-901f-bfb8e9e7d5f1
  â€¢ SNI:       www.microsoft.com
  â€¢ Flow:      xtls-rprx-vision

Plugins:
  (none)

Services:
  â€¢ xray.service       (systemd, enabled)

Firewall:
  â€¢ Allow TCP/443      (reality)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Proceed with installation? [Y/n]:
```

---

### Task 4: SNI åŸºç¡€éªŒè¯å·¥å…· ğŸŒ

**ä¼˜å…ˆçº§**: P2 (é«˜)
**éš¾åº¦**: â­â­â­ (è¾ƒéš¾)
**æ—¶é—´**: 2-3h
**ä¾èµ–**: Task 2 (é”™è¯¯ä»£ç )

#### å­ä»»åŠ¡

4.1. **å®ç° SNI éªŒè¯å‡½æ•°**
   - [ ] åˆ›å»º `lib/validators.sh::validators::sni()`
   - [ ] æ£€æµ‹ TLS 1.3 æ”¯æŒ (`openssl s_client`)
   - [ ] æ£€æµ‹ HTTP/2 æ”¯æŒ (`curl --http2`)
   - [ ] æ£€æµ‹é‡å®šå‘ (`curl -I`)
   - [ ] æ£€æµ‹å»¶è¿Ÿ (`time openssl s_client`)

4.2. **åˆ›å»ºç‹¬ç«‹æµ‹è¯•å·¥å…·**
   - [ ] åˆ›å»º `commands/test-sni.sh`
   - [ ] å®ç° `xrf test-sni <domain>` å‘½ä»¤
   - [ ] æ˜¾ç¤ºè¯¦ç»†éªŒè¯ç»“æœ
   - [ ] æ·»åŠ åˆ° `bin/xrf` å‘½ä»¤è·¯ç”±

4.3. **é›†æˆåˆ°å®‰è£…æµç¨‹**
   - [ ] ä¿®æ”¹ `commands/install.sh`
   - [ ] éªŒè¯ç”¨æˆ·æä¾›çš„ SNIï¼ˆvision-realityï¼‰
   - [ ] è­¦å‘Šä¸åˆé€‚çš„ SNIï¼ˆä¸é˜»æ–­ï¼‰
   - [ ] æ”¯æŒ `--skip-sni-validation` è·³è¿‡

4.4. **ç¼–å†™æµ‹è¯•**
   - [ ] å•å…ƒæµ‹è¯•ï¼š`tests/unit/test_validators_sni.bats`
   - [ ] Mock `openssl` å’Œ `curl` å‘½ä»¤
   - [ ] æµ‹è¯• TLS 1.3 æ£€æµ‹
   - [ ] æµ‹è¯• HTTP/2 æ£€æµ‹
   - [ ] æµ‹è¯•é‡å®šå‘æ£€æµ‹

4.5. **æ–‡æ¡£æ›´æ–°**
   - [ ] åˆ›å»º `docs/SNI_SELECTION.md` SNI é€‰æ‹©æŒ‡å—
   - [ ] æ›´æ–° `README.md` æ·»åŠ  `xrf test-sni` ç¤ºä¾‹
   - [ ] æ›´æ–° `TROUBLESHOOTING.md` SNI ç›¸å…³é—®é¢˜

4.6. **æäº¤**
   - [ ] Commit: "feat: add SNI validation tool and auto-check during install"

**éªŒæ”¶æ ‡å‡†**:
- âœ… `xrf test-sni <domain>` å‘½ä»¤å¯ç”¨
- âœ… æ£€æµ‹ TLS 1.3ã€HTTP/2ã€é‡å®šå‘
- âœ… å®‰è£…æ—¶è‡ªåŠ¨éªŒè¯ SNIï¼ˆè­¦å‘Šä½†ä¸é˜»æ–­ï¼‰
- âœ… æä¾›è¯¦ç»†éªŒè¯æŠ¥å‘Š

**ç¤ºä¾‹è¾“å‡º**:
```bash
$ xrf test-sni "dl.google.com"

Testing target: dl.google.com
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ DNS resolution     142.250.185.46
âœ“ TLS 1.3 support    Enabled
âœ“ HTTP/2 support     Enabled (h2)
âœ“ Non-redirect       No redirects
âœ“ Latency            23ms (Excellent)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Result: âœ“ SUITABLE for REALITY

This domain meets all requirements.
Use with: xrf install --topology reality-only --sni "dl.google.com"
```

---

### Task 5: å®‰è£…åå¥åº·æ£€æŸ¥ ğŸ¥

**ä¼˜å…ˆçº§**: P1 (æœ€é«˜)
**éš¾åº¦**: â­â­â­ (è¾ƒéš¾)
**æ—¶é—´**: 4-6h
**ä¾èµ–**: Task 2 (é”™è¯¯ä»£ç ), Task 3 (UI æ¨¡å—)

#### å­ä»»åŠ¡

5.1. **è®¾è®¡å¥åº·æ£€æŸ¥æ¡†æ¶**
   - [ ] å®šä¹‰æ£€æŸ¥é¡¹ç›®åˆ—è¡¨
   - [ ] è®¾è®¡æ£€æŸ¥ç»“æœæ•°æ®ç»“æ„
   - [ ] è®¾è®¡è¾“å‡ºæ ¼å¼

5.2. **å®ç°æ£€æŸ¥å‡½æ•°**
   - [ ] åˆ›å»º `modules/health.sh::health::check_service()`
     - systemd æœåŠ¡çŠ¶æ€
     - è¿›ç¨‹è¿è¡ŒçŠ¶æ€
     - å†…å­˜ä½¿ç”¨
   - [ ] åˆ›å»º `modules/health.sh::health::check_config()`
     - é…ç½®æ–‡ä»¶å­˜åœ¨æ€§
     - `xray -test` éªŒè¯
   - [ ] åˆ›å»º `modules/health.sh::health::check_network()`
     - ç«¯å£ç›‘å¬
     - å…¬ç½‘ IP æ£€æµ‹
     - é˜²ç«å¢™è§„åˆ™
   - [ ] åˆ›å»º `modules/health.sh::health::check_certificates()`
     - è¯ä¹¦æ–‡ä»¶å­˜åœ¨ï¼ˆvision-realityï¼‰
     - è¯ä¹¦æœ‰æ•ˆæœŸ

5.3. **å®ç°å¥åº·æ£€æŸ¥å‘½ä»¤**
   - [ ] åˆ›å»º `modules/health.sh::health::run_checks()`
   - [ ] æ±‡æ€»æ‰€æœ‰æ£€æŸ¥ç»“æœ
   - [ ] æ˜¾ç¤ºæ ¼å¼åŒ–æŠ¥å‘Š
   - [ ] è¿”å›æ€»ä½“çŠ¶æ€ï¼ˆå¥åº·/è­¦å‘Š/é”™è¯¯ï¼‰

5.4. **é›†æˆåˆ°å®‰è£…æµç¨‹**
   - [ ] ä¿®æ”¹ `commands/install.sh`
   - [ ] å®‰è£…å®Œæˆåè‡ªåŠ¨è¿è¡Œå¥åº·æ£€æŸ¥
   - [ ] æ˜¾ç¤ºä¸‹ä¸€æ­¥æ“ä½œå»ºè®®
   - [ ] æ”¯æŒ `--skip-health-check` è·³è¿‡

5.5. **åˆ›å»ºç‹¬ç«‹å‘½ä»¤**
   - [ ] åˆ›å»º `commands/health.sh`
   - [ ] å®ç° `xrf health` å‘½ä»¤ï¼ˆå¯ç‹¬ç«‹è¿è¡Œï¼‰
   - [ ] æ·»åŠ åˆ° `bin/xrf` å‘½ä»¤è·¯ç”±

5.6. **ç¼–å†™æµ‹è¯•**
   - [ ] å•å…ƒæµ‹è¯•ï¼š`tests/unit/test_health.bats`
   - [ ] Mock systemctl, ss, iptables ç­‰å‘½ä»¤
   - [ ] æµ‹è¯•å„é¡¹æ£€æŸ¥é€»è¾‘
   - [ ] æµ‹è¯•ç»“æœæ±‡æ€»

5.7. **æ–‡æ¡£æ›´æ–°**
   - [ ] åˆ›å»º `docs/HEALTH_CHECK.md` å¥åº·æ£€æŸ¥è¯´æ˜
   - [ ] æ›´æ–° `README.md` æ·»åŠ  `xrf health` ç¤ºä¾‹
   - [ ] æ›´æ–° `TROUBLESHOOTING.md` å¥åº·æ£€æŸ¥æ’é”™

5.8. **æäº¤**
   - [ ] Commit: "feat: add post-install health check with xrf health command"

**éªŒæ”¶æ ‡å‡†**:
- âœ… å®‰è£…åè‡ªåŠ¨è¿è¡Œå¥åº·æ£€æŸ¥
- âœ… æ£€æŸ¥æœåŠ¡ã€é…ç½®ã€ç½‘ç»œã€è¯ä¹¦
- âœ… `xrf health` å¯ç‹¬ç«‹è¿è¡Œ
- âœ… æ˜¾ç¤ºè¯¦ç»†æŠ¥å‘Šå’Œä¸‹ä¸€æ­¥å»ºè®®

**ç¤ºä¾‹è¾“å‡º**:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Installation Complete
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[INFO] Running post-installation checks...

System Status:
  âœ“ xray.service        Active (running)
  âœ“ Xray process        PID 12345, uptime 2s
  âœ“ Configuration       Valid (xray -test passed)

Network:
  âœ“ Port 443            Listening (0.0.0.0)
  âœ“ Firewall            TCP/443 allowed
  âœ“ Public IP           93.184.216.34

Configuration:
  âœ“ Reality inbound     Enabled
  âœ“ XTLS Vision         Enabled
  âœ“ Short IDs           2 in pool

Client Links:
  REALITY: vless://uuid@93.184.216.34:443?...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Next steps:
  1. Copy client link above to your device
  2. Import link in Xray client (v2rayN, v2rayNG, etc.)
  3. Test connection: xrf test-connection
  4. View logs: journalctl -u xray -f

Documentation: https://github.com/Joe-oss9527/xray-fusion
```

---

## å®æ–½æ—¶é—´è¡¨

| ä»»åŠ¡ | æ—¶é—´ | ç´¯è®¡ | çŠ¶æ€ |
|------|------|------|------|
| Task 1: UUID åˆ‡æ¢ | 1-2h | 2h | â³ Pending |
| Task 2: å‚æ•°éªŒè¯å¢å¼º | 3-4h | 6h | â³ Pending |
| Task 3: å®‰è£…å‰é¢„è§ˆ | 2-3h | 9h | â³ Pending |
| Task 4: SNI éªŒè¯ | 2-3h | 12h | â³ Pending |
| Task 5: å¥åº·æ£€æŸ¥ | 4-6h | 18h | â³ Pending |

**æ€»è®¡**: 15-20h

---

## è´¨é‡æ£€æŸ¥æ¸…å•

æ¯ä¸ªä»»åŠ¡å®Œæˆåå¿…é¡»é€šè¿‡ä»¥ä¸‹æ£€æŸ¥ï¼š

### ä»£ç è´¨é‡
- [ ] æ‰€æœ‰æ–°å‡½æ•°æœ‰å®Œæ•´ ShellDoc æ³¨é‡Š
- [ ] éµå¾ª `AGENTS.md` ç¼–ç è§„èŒƒ
- [ ] é€šè¿‡ `make lint` (ShellCheck)
- [ ] é€šè¿‡ `make fmt` (shfmt)

### æµ‹è¯•è¦†ç›–
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒé€»è¾‘
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ `make test-unit`
- [ ] è¾¹ç•Œæƒ…å†µæµ‹è¯•ï¼ˆç©ºè¾“å…¥ã€é”™è¯¯è¾“å…¥ï¼‰

### æ–‡æ¡£å®Œæ•´
- [ ] ç”¨æˆ·æ–‡æ¡£æ›´æ–°ï¼ˆREADME, ä½¿ç”¨æŒ‡å—ï¼‰
- [ ] å¼€å‘æ–‡æ¡£æ›´æ–°ï¼ˆAGENTS.mdï¼‰
- [ ] ç¤ºä¾‹ä»£ç å¯è¿è¡Œ

### å‘åå…¼å®¹
- [ ] ä¸ç ´åç°æœ‰ API
- [ ] ä¿ç•™ç°æœ‰ç¯å¢ƒå˜é‡æ”¯æŒ
- [ ] æ–°åŠŸèƒ½å¯é€‰ï¼ˆé»˜è®¤ä¸å½±å“ç°æœ‰æµç¨‹ï¼‰

### Git æäº¤
- [ ] Commit æ¶ˆæ¯éµå¾ª Conventional Commits
- [ ] å•ä¸ªåŠŸèƒ½å•ç‹¬ commit
- [ ] Commit åŒ…å«å®Œæ•´åŠŸèƒ½ï¼ˆå¯ç‹¬ç«‹ revertï¼‰

---

## å®æ–½æµç¨‹

### æ¯ä¸ªä»»åŠ¡çš„æ ‡å‡†æµç¨‹

1. **è§„åˆ’** (10%)
   - é˜…è¯»ä»»åŠ¡æè¿°
   - è®¾è®¡å®ç°æ–¹æ¡ˆ
   - è¯†åˆ«ä¾èµ–å’Œé£é™©

2. **å®ç°** (50%)
   - ç¼–å†™æ ¸å¿ƒä»£ç 
   - ç¼–å†™è¾…åŠ©å‡½æ•°
   - é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ

3. **æµ‹è¯•** (25%)
   - ç¼–å†™å•å…ƒæµ‹è¯•
   - æœ¬åœ°æµ‹è¯•éªŒè¯
   - è¾¹ç•Œæƒ…å†µæµ‹è¯•

4. **æ–‡æ¡£** (10%)
   - æ›´æ–°ç”¨æˆ·æ–‡æ¡£
   - æ›´æ–°å¼€å‘æ–‡æ¡£
   - æ·»åŠ ç¤ºä¾‹

5. **æäº¤** (5%)
   - Code reviewï¼ˆè‡ªæŸ¥ï¼‰
   - Commit æäº¤
   - Push åˆ°è¿œç¨‹

---

## é£é™©å’Œç¼“è§£

### é£é™© 1: æµ‹è¯•è¦†ç›–ä¸è¶³
**å½±å“**: ä¸­
**æ¦‚ç‡**: ä¸­
**ç¼“è§£**:
- æ¯ä¸ªå‡½æ•°å¿…é¡»æœ‰å¯¹åº”æµ‹è¯•
- Mock å¤–éƒ¨ä¾èµ–ï¼ˆç½‘ç»œã€ç³»ç»Ÿå‘½ä»¤ï¼‰
- CI/CD è‡ªåŠ¨è¿è¡Œæµ‹è¯•

### é£é™© 2: å‘åå…¼å®¹æ€§ç ´å
**å½±å“**: é«˜
**æ¦‚ç‡**: ä½
**ç¼“è§£**:
- æ–°åŠŸèƒ½é»˜è®¤å…³é—­æˆ–å¯é€‰
- ä¿ç•™ç°æœ‰ API å’Œç¯å¢ƒå˜é‡
- æ·»åŠ å¼ƒç”¨è­¦å‘Šè€Œéç›´æ¥åˆ é™¤

### é£é™© 3: ç”¨æˆ·ä½“éªŒä¸ä¸€è‡´
**å½±å“**: ä¸­
**æ¦‚ç‡**: ä¸­
**ç¼“è§£**:
- ç»Ÿä¸€ä½¿ç”¨ `modules/ui.sh` æ ¼å¼åŒ–è¾“å‡º
- æ‰€æœ‰äº¤äº’ä½¿ç”¨ç›¸åŒçš„ç¡®è®¤æç¤º
- é”™è¯¯æ¶ˆæ¯ç»Ÿä¸€ä½¿ç”¨é”™è¯¯ä»£ç 

### é£é™© 4: ä¾èµ–å·¥å…·ä¸å¯ç”¨
**å½±å“**: ä½
**æ¦‚ç‡**: ä¸­
**ç¼“è§£**:
- æ‰€æœ‰å¤–éƒ¨å‘½ä»¤æ£€æµ‹å¯ç”¨æ€§
- æä¾› fallback æ–¹æ¡ˆ
- å‹å¥½çš„é”™è¯¯æç¤º

---

## æˆåŠŸæ ‡å‡†

Phase 1 å®Œæˆååº”è¾¾åˆ°ï¼š

### åŠŸèƒ½å®Œæ•´æ€§
- âœ… æ‰€æœ‰ 5 ä¸ªä»»åŠ¡å®Œæˆ
- âœ… æ‰€æœ‰éªŒæ”¶æ ‡å‡†é€šè¿‡
- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡

### ç”¨æˆ·ä½“éªŒæå‡
- âœ… å®‰è£…å‰ç”¨æˆ·çŸ¥é“å°†è¦å®‰è£…ä»€ä¹ˆ
- âœ… é”™è¯¯æ¶ˆæ¯æ¸…æ™°ã€å¯æ“ä½œ
- âœ… å®‰è£…åè‡ªåŠ¨éªŒè¯æˆåŠŸ
- âœ… SNI é€‰æ‹©æœ‰éªŒè¯å·¥å…·
- âœ… UUID æ”¯æŒè‡ªå®šä¹‰æ˜ å°„

### è´¨é‡æŒ‡æ ‡
- âœ… æµ‹è¯•è¦†ç›–ç‡ > 80%
- âœ… æ‰€æœ‰ lint æ£€æŸ¥é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´æ›´æ–°
- âœ… å‘åå…¼å®¹ï¼ˆæ— ç ´åæ€§å˜æ›´ï¼‰

### UX æˆç†Ÿåº¦
- ğŸ¯ **å½“å‰**: 4.75/10
- ğŸ¯ **ç›®æ ‡**: 6.5/10
- ğŸ¯ **æå‡**: +35%

---

## ä¸‹ä¸€æ­¥

**ç«‹å³å¼€å§‹**: Task 1 - UUID ç”Ÿæˆåˆ‡æ¢ï¼ˆæœ€ç®€å•ï¼Œå»ºç«‹ä¿¡å¿ƒï¼‰

**å‘½ä»¤**:
```bash
# åˆ›å»ºä»»åŠ¡åˆ†æ”¯
git checkout -b feat/phase1-uuid-generation

# å¼€å§‹å®ç°...
```

---

**æ–‡æ¡£ç»´æŠ¤**: æ¯ä¸ªä»»åŠ¡å®Œæˆåæ›´æ–°çŠ¶æ€ï¼Œè®°å½•å®é™…ç”¨æ—¶å’Œé‡åˆ°çš„é—®é¢˜ã€‚
**æœ€åæ›´æ–°**: 2025-11-11
